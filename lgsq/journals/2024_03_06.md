# To-Do
	- DOING HITL simulation and data collection for system latency
	  :LOGBOOK:
	  CLOCK: [2024-03-07 Thu 00:00:39]
	  :END:
		- DONE Syncup with Yashrajsinh to hash out requirements of the HITL simulation
		  collapsed:: true
			- Drone is running
			  :LOGBOOK:
			  CLOCK: [2024-03-07 Thu 00:01:01]
			  :END:
				- In Hover mode
				- Take one test in Path mode
			- Recording topics (refer to PPT)
				- Timestamped and only pertinent data required
			- Fault activation
				- All 5 sensors
				- $-\infty$ to 0 to $+\infty$
			- Run till failure or set time point
				- Failure defined by crash, sudden landing, out of bounds
				- Out of bounds in 2 levels: unacceptable, and failure (1m, 5m)
			- Dump data for analysis
		- DONE Trigger and be able to observe the faults in HITL
		  collapsed:: true
		  :LOGBOOK:
		  CLOCK: [2024-03-07 Thu 00:02:32]
		  CLOCK: [2024-03-07 Thu 00:02:34]--[2024-03-14 Thu 15:24:20] =>  183:21:46
		  :END:
			- The modules in SITL and HITL are quite different when considering anything apart from the IMU. Directly porting the SITL into HITL did not work, because the GPS, Magnetometer and Barometer are in different source modules.
			- Wasn't able to find these modules. I've tried editing the drivers as well, but it seems that in HITL, the values being published and observed through the ros2 topics aren't reflecting the faults being injected. To expand on this, when addingsome type of fault like setting all values of a particular sensor to zero, only the resulting deviation is observed in the ros2 topics. The values aren't actually getting fully set to zero.
		- DONE Set up automated simulation and data collection pipeline
		  collapsed:: true
		  :LOGBOOK:
		  CLOCK: [2024-03-07 Thu 00:03:30]--[2024-03-14 Thu 15:24:39] =>  183:21:09
		  :END:
			- **RO2 Node Architecture**
				- Keep the `drone_controller.py` node for param setting and drone launching.
				- Update the `drone_state_monitor.py` node to ensure system remains within
				  limits.
				- ~~Need to edit the `fault_manager.py` such that it triggers a fault after a fixed interval given the sensor that needs to be faulted and the type of fault it needs to experience:~~
					- ~~All zeros~~
					- ~~All max~~
				- Due to the straightforward nature of this process, we can bundle up the fault activation AND the iteration management into `iteration_manager.py`
				- Edit `sensor_recorder_unsync.py` to listen to the below list of topics.
				  This needs to narrowed down a bit:
					- sensor_gyro
					- sensor_accel
					- sensor_mag
					- sensor_baro
					- sensor_gps
					- vehicle_angular_velocity
					- vehicle_acceleration
					- vehicle_attitude
					- vehicle_local_position
					- vehicle_global_position
					- actuator_outputs
					- actuator_controls
			- **Simulation and Data Collection Management**
				- Since it is a one-off deal, there isn't any necessity to set up an   auto-start, kill and relaunch feature. Manual start and kill is sufficient.
				- Write a bash script that, once the simulation in HITL is launched, launches
				    above nodes in correct sequence. It should then:
					- Ready drone
					  logseq.order-list-type:: number
					- Start data recording
					  logseq.order-list-type:: number
					- Trigger fault at fixed time
					  logseq.order-list-type:: number
						- Put a tag in data collection when fault is triggered
					- Stop recording when the drone leaves the boundaries
					  logseq.order-list-type:: number
						- Also apply a tag when the drone switches from *acceptable* to *unacceptable* to *failure*
					- Dump records to `.csv`
					  logseq.order-list-type:: number
					- Reset all applied faults prepare for reset
					  logseq.order-list-type:: number
					- Rinse and repeat for next fault
					  logseq.order-list-type:: number
		- DOING Collect data and compile it for analysis
		  :LOGBOOK:
		  CLOCK: [2024-03-14 Thu 15:24:57]
		  CLOCK: [2024-03-14 Thu 15:25:04]
		  :END:
			- Wrote a data converter and compiler according to the needs of the final data set. Processing is still needed for this, though that can be done at a later date.
			- Ready to move on to the HITL setup, since things are working well in SITL. Of course, the issue of whether faults injected will become evident in the data is a question. But as per Yashrajsinh, it shouldn't matter as long as the deviations are being captured.
			- **LEFT**:
				- Baro Max
				- Baro Min
				- Redo Mag Max
	- DONE Try dumping the fault data as {https://github.com/foxglove/mcap}[MCAP]
	  :LOGBOOK:
	  CLOCK: [2024-03-07 Thu 00:27:10]--[2024-03-07 Thu 20:57:27] =>  20:30:17
	  :END:
		- Tested out the process. Currently there is an issue in reading the file and converting it from `.mcap` to `.csv` or other human readable format. Currently talking with Moamen for that.
		- DONE Jot down how the mcap recording works (possibly hold a snippet)
		  :LOGBOOK:
		  CLOCK: [2024-03-07 Thu 00:27:16]--[2024-03-07 Thu 20:57:32] =>  20:30:16
		  :END:
	- CANCELLED Plan for Fault Injector Interface
	  :LOGBOOK:
	  CLOCK: [2024-03-07 Thu 00:13:56]
	  :END:
	- DONE Add Yashrajsinh as collaborator in task with him in Jira
- # Meetings
	- ## Technical Syncup / Junior
	  id:: 65e8cead-f672-4286-935c-aee764ec0dde
	  collapsed:: true
		- **Attendees**
			- Junior Sundar
			- Willian Lunardi
			- ~~Martin Andreoni~~
		- **Goals**
			- Discussing state of work
		- **Agenda**
			- [x] Update progress
			- [x] Discuss issues
			- [x] Plan future
		- **Minutes**
			- SITL in Cloud
				- Finland roadblocks
				- Attempts till now
				- Possible alternatives and future steps
			- HITL
				- Progress
				- Issues
			- Sensor anomalies is kind of a misnomer because the goal is to identify more than just misbehaviour of sensors, it is more of a holistic look.
			- To that end, we need to observe more than just sensors, so exposure to all the other failure modes is also required.
			- There doesn't seem to be a need to push the simulation to the cloud. A local setup is more than sufficient. Moved to 'Action Items'.
			- Goal:
				- Generating a lot of data for publication.
				- Running in multiple scenarious with diversity as the main focus.
		- **Action Items**
			- ~~#BRAINSTORM Data generation for publication~~
			- Dummy data set output with varying wind
			- ~~#RESEARCH Feature Importance Calculation~~
	- ## RTA Meeting
	  collapsed:: true
		- **Attendees**
			- SRTA-AD
				- Martin Andreoni
				- Willian Lunardi
				- Rayana Boubezari
				- Junior Sundar
		- **Goals**
			- Syncup with rest of team
		- **Agenda**
			- [x] Discuss progress
			- [x] Update Jira
		- **Minutes**
			- *Martin Andreoni*
				- Ticky is looking at a top down approach to objective setting. For the SRTA team, the goal is to have a demo ready (initial) by July (Q2)
				- Deadlines need to be met, with regards to the weekly reports
				- Before making submissions, make sure to proofread
				- Before sending to review, it is best to have some sort of Confluence page that discusses the achievements of the task
			- *Dania Herzolla*
				- JamLocator assumes that there is a control channel through which minimal message passing is still in place. So even if there is a disconnection by jammer, some information can still be passed around
			- *Junior Sundar*
				- Add Yashrajsinh as a collaborator in Jira tasks with him
		- **Action Items**
			- ~~Update Jira and weekly report~~
			- ~~Implement a basic ROS 2 implementation for swarm controls for Saurabh to test his algorithms~~
			- ~~Prepare logistics for updating tasks and goal given the meeting with Willian~~
				- ~~Discuss in meeting with Rayana~~
- Next: [[Mar 7th, 2024]]